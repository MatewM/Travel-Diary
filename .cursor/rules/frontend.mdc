---
description: Convenciones de frontend para TaxDays
alwaysApply: false
globs: ["app/views/**/*"]
---

# Convenciones Frontend

## Estilos
- TailwindCSS 3 exclusivamente ‚Äî no CSS custom salvo casos excepcionales
- Dise√±o mobile-first
- Dashboard con est√©tica limpia y moderna (inspiraci√≥n: Linear, Notion)

## Componentes
- Usar ViewComponent para cualquier elemento UI reutilizado m√°s de una vez
- Nomenclatura: `NombreComponent` (ej: `CountryBadgeComponent`, `TripRowComponent`)

## Interactividad
- Turbo Frame para cargar secciones sin recargar p√°gina (ej: selector de a√±o en dashboard)
- Stimulus para comportamiento JS local (ej: preview de imagen al subir billete)
- NO usar fetch/axios manualmente si Turbo puede hacerlo

## Dashboard principal
- Tabla de d√≠as por pa√≠s para el a√±o seleccionado
- Indicadores visuales: verde (cumple), amarillo (cerca del l√≠mite), rojo (excedido o en riesgo)
- Selector de a√±o natural en la parte superior

## Dashboard ‚Äî Gesti√≥n de huecos temporales

- La tabla de d√≠as muestra el a√±o completo como l√≠nea de tiempo
- Entre trips existentes, si hay d√≠as sin cubrir aparece una fila
  con estilo diferenciado (fondo gris/amarillo) que muestra:
  "Del [fecha] al [fecha] ‚Äî X d√≠as sin registrar"
  + bot√≥n "A√±adir per√≠odo"
- Al pulsar "A√±adir per√≠odo": Turbo Frame abre formulario inline con:
  - Pa√≠s de origen y destino
  - Fechas (pre-rellenadas con el hueco detectado, editables)
  - Tipo de transporte (selector: tren, coche, barco, otro)
  - Nota opcional ("viaje en coche sin billete")
  - Campo opcional para subir documento alternativo (hotel, contrato...)
- Los trips manuales se muestran con un icono distinto al de los
  que tienen billete adjunto (ej: üìé vs ‚úèÔ∏è)
- En el informe fiscal, los per√≠odos manuales aparecen en color
  diferente con nota "entrada manual ‚Äî sin billete adjunto"
