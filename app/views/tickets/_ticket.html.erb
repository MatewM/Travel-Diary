<% first_file = ticket.original_files.first %>
<% is_pdf = first_file&.content_type == "application/pdf" %>

<div id="<%= dom_id(ticket) %>"
     class="flex items-center gap-4 px-5 py-3 border-b border-slate-100 last:border-0
            hover:bg-slate-50 transition-colors">

  <%# Icono segÃºn tipo del primer archivo %>
  <div class="w-9 h-9 rounded-lg flex items-center justify-center flex-shrink-0
              <%= is_pdf ? 'bg-red-100' : 'bg-indigo-100' %>">
    <% if is_pdf %>
      <svg class="w-5 h-5 text-red-500" fill="currentColor" viewBox="0 0 24 24">
        <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8l-6-6z"/>
      </svg>
    <% else %>
      <svg class="w-5 h-5 text-indigo-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
      </svg>
    <% end %>
  </div>

  <%# Info del ticket %>
  <div class="flex-1 min-w-0">
    <p class="text-sm font-medium text-slate-800 truncate">
      <%= first_file ? first_file.filename.to_s : "Billete sin archivo" %>
    </p>
    <p class="text-xs text-slate-400 mt-0.5">
      Subido <%= time_ago_in_words(ticket.created_at) %> Â· Pendiente de procesar
    </p>
  </div>

  <%# Badge de estado %>
  <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium
               bg-amber-100 text-amber-700 flex-shrink-0">
    <span class="w-1.5 h-1.5 rounded-full bg-amber-500 mr-1.5"></span>
    Pendiente
  </span>
</div>
